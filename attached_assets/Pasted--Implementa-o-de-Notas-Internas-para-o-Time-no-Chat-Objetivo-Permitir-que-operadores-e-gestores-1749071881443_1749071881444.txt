 Implementação de Notas Internas para o Time no Chat
🎯 Objetivo:
Permitir que operadores e gestores possam adicionar anotações visíveis apenas internamente, dentro de qualquer conversa do sistema de atendimento, seguindo o modelo do Kinbox.

📌 Funcionalidade esperada
1. Botão de ativação da nota interna
Um ícone deve ser posicionado próximo ao campo de digitação (como no Kinbox).

Ao clicar, o campo de mensagem deve:

Mudar de cor (ex: fundo amarelo claro ou cinza claro)

Exibir o aviso: “Anotação interna. Visível apenas para sua equipe.”

2. Mensagem visível apenas para operadores
A nota interna deve ser exibida no mesmo fluxo da conversa, mas:

Não é enviada ao aluno

É exibida em estilo visual diferenciado (ex: bolha com fundo amarelo ou ícone de ⚠️)

Pode ter o nome do agente que escreveu e timestamp

3. Permissões e visibilidade
Visível apenas para usuários logados com acesso à conversa.

Não exportável em histórico enviado ao aluno.

Deve ser registrada no banco com:

ID do agente

Timestamp

Conteúdo

Flag: isInternalNote: true

4. Armazenamento no banco de dados
Salvar em conversation_messages ou tabela similar com flag "internal": true

Suporte a edição e remoção apenas pelo autor ou admin

5. Sugestões visuais
Campo de digitação com tom diferenciado (amarelo claro, como nas imagens que você enviou)

Bolha com o ícone 📝 ou um selo “Nota interna”

Placeholder no campo: “Escreva uma nota para sua equipe...”

🛠️ Sugestões técnicas
Reutilizar o componente padrão de mensagem do chat, com variação de estilo via variant="internal"

Criar uma aba de filtro ou modo de exibição para alternar entre “Ver tudo” ou “Ver apenas conversas com aluno”

Permitir marcações automáticas com tags se desejar

📋 Como solicitar ao Replit
Gostaria de implementar uma funcionalidade de nota interna no sistema de atendimento, semelhante ao que o Kinbox oferece.

Essa nota será visível apenas pela equipe interna, não será enviada ao aluno, e será usada para orientações entre operadores, registro de contexto ou alertas.

A funcionalidade deve incluir:

Botão para alternar entre mensagem pública e nota interna;

Campo com estilo visual diferenciado;

Armazenamento com flag isInternalNote: true;

Exibição interna na timeline da conversa;

Permissões e controle de edição restritos;

A inspiração visual é o Kinbox, conforme imagens enviadas. Podem manter a lógica do message bubble, mas com cor, ícone e visibilidade distintos.

